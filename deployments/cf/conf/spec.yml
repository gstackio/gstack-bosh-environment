---
subsys:
  name: cf
  type: bosh-deployment

input_resources:
  - name: cf-deployment
    type: git
    uri: https://github.com/cloudfoundry/cf-deployment.git
    version: v1.0.0
  - name: prometheus-boshrelease
    type: git
    uri: https://github.com/bosh-prometheus/prometheus-boshrelease.git
    version: v20.0.0


main_deployment_file: cf-deployment/cf-deployment.yml

operations_files:
  10.cf-deployment:
    - operations/bosh-lite
  20.prometheus-boshrelease:
    - manifests/operators/cf/add-prometheus-uaa-clients
    - manifests/operators/cf/add-grafana-uaa-clients
  30.local:
    - set-versions
    - expose-admin-user-as-link
    - cassandra-support


deployment_vars:
  deployment_name: easyfoundry-cf


  # User-facing settings

  system_domain: cf.easyfoundry.prototyp.it


  # Versions

  cf_mysql_version: "36.9.0"
  cf_mysql_sha1: "adf3ad18f608cd0f045c4feeb08422947c1481a7"

  routing_version: "0.168.0"
  routing_sha1: 885321f95b530c4a5b8515c72155229cba26c449

  stemcell_name: bosh-warden-boshlite-ubuntu-trusty-go_agent
  stemcell_version: "3468.11"
  stemcell_sha1: 74592d4c2b7f2aebacd767112dd0ef28b028532b


  # Reference declarations

  network_name: default # injected in cloud-config


imported_vars:
  - subsys: cf
    imports:
      - name: grafana_redirect_uri
        from: depl-vars
        value: https://uaa.((system_domain))/login
